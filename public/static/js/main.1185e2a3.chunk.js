(this["webpackJsonpcalendar-app"]=this["webpackJsonpcalendar-app"]||[]).push([[0],{104:function(e,t,n){},105:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(25),s=n.n(r),o=n(41),i=n(8),u=n(33),l=n(11),d=n(18),b=n(14),f=n(13),j=n.n(f),h=n(20),v=n(34),p=n.n(v),O={query:function(){return x.apply(this,arguments)},getById:function(e){return g.apply(this,arguments)},save:function(e){return k.apply(this,arguments)},remove:function(e){return w.apply(this,arguments)}},m="/api/";function x(){return(x=Object(h.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("".concat(m,"event/"));case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.error("cant get events",e.t0);case 11:case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function g(){return(g=Object(h.a)(j.a.mark((function e(t){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("".concat(m,"event/").concat(t));case 3:return n=e.sent,c=n.data,e.abrupt("return",c);case 8:e.prev=8,e.t0=e.catch(0),console.error("cant get stay",e.t0);case 11:case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function k(){return(k=Object(h.a)(j.a.mark((function e(t){var n,c,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t._id){e.next=9;break}return e.next=4,p.a.put("".concat(m,"event/").concat(t._id),t);case 4:return n=e.sent,c=n.data,e.abrupt("return",c);case 9:return e.next=11,p.a.post("".concat(m,"event/"),t);case 11:return a=e.sent,r=a.data,e.abrupt("return",r);case 14:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.error("cant save event",e.t0);case 20:case 21:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function w(){return(w=Object(h.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.delete("".concat(m,"event/").concat(t));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("cant remove event ".concat(t),e.t0);case 8:case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}var y,D=Object(d.b)("events/getAllEvents",Object(h.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.query();case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new Error("cant get events",e.t0);case 9:case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))),N=Object(d.b)("events/addEvent",function(){var e=Object(h.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.save(t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error("cant add event",e.t0);case 9:case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),C=Object(d.b)("events/editEvent",function(){var e=Object(h.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.save(t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error("cant edit event",e.t0);case 9:case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),S=Object(d.b)("events/removeEvent",function(){var e=Object(h.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.remove(t);case 3:return e.abrupt("return",t);case 6:e.prev=6,e.t0=e.catch(0),console.error("cant remove event",e.t0);case 9:case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),M=(y={},Object(b.a)(y,D.pending,(function(e){e.status="loading"})),Object(b.a)(y,D.fulfilled,(function(e,t){var n=t.payload;e.events=n,e.status="success"})),Object(b.a)(y,D.rejected,(function(e){e.status="failed"})),Object(b.a)(y,N.pending,(function(e){e.status="loading"})),Object(b.a)(y,N.fulfilled,(function(e,t){var n=t.payload;e.events.push(n),e.status="success"})),Object(b.a)(y,N.rejected,(function(e){e.status="failed"})),Object(b.a)(y,S.pending,(function(e){e.status="loading"})),Object(b.a)(y,S.fulfilled,(function(e,t){var n=t.payload;e.events.filter((function(e){return n!==e._id})),e.status="success"})),Object(b.a)(y,S.rejected,(function(e){e.status="failed"})),Object(b.a)(y,C.pending,(function(e){e.status="loading"})),Object(b.a)(y,C.fulfilled,(function(e,t){var n=t.payload,c=e.events.findIndex((function(e){var t;return(null===(t=n.data)||void 0===t?void 0:t._id)===e._id}));e.events.splice(c,1,n.data),e.status="success"})),Object(b.a)(y,C.rejected,(function(e){e.status="failed"})),y),E=Object(d.c)({name:"events",initialState:{events:[],status:null,selectedEv:null},reducers:{setSelectedEv:function(e,t){var n=t.payload;e.selectedEv=n}},extraReducers:M}),L=E.actions.setSelectedEv,z=E.reducer,I=n(60),_=n.n(I),B=n(61),A=n.n(B),R=n(2),T=function(e){var t=e.date,n=e.onNext,c=e.onPrev;return Object(R.jsxs)("section",{className:"calendar-header flex",children:[Object(R.jsx)("button",{className:"btn",onClick:c,children:Object(R.jsx)(_.a,{})}),Object(R.jsx)("h2",{children:t}),Object(R.jsx)("button",{className:"btn",onClick:n,children:Object(R.jsx)(A.a,{})})]})},q=function(e){var t=e.day,n=t.value,c=t.isCurrDay,a=t.date,r=t.event,s=e.onSelect,o=e.isDark,u=Object(i.f)().push;return Object(R.jsx)("button",{className:"btn",onClick:function(){a&&u("/save/".concat((null===r||void 0===r?void 0:r._id)||""))},children:Object(R.jsxs)("div",{className:"day-tile ".concat(n," ").concat(c&&"current"," flex ").concat(o?"dark":""),onClick:function(){return s(a)},children:[n,r&&Object(R.jsx)("span",{className:"ev-title",children:r.description})]})})},F=n(129),P=function(){return Object(R.jsx)("div",{className:"loader",children:Object(R.jsx)(F.a,{size:100})})},V=n(44),J=n(64),U=n.n(J),X=n(63),Y=n.n(X),G=n(65),H=n.n(G),K=[{path:"/save/:_id?",component:function(){var e=Object(c.useState)({description:""}),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(l.c)((function(e){return e.event.selectedEv})),s=Object(l.c)((function(e){return e.event.status})),o=Object(l.b)(),d=Object(i.g)()._id,b=Object(i.f)();Object(c.useEffect)((function(){d&&O.getById(d).then((function(e){return a(e)}))}),[d]);return Object(R.jsx)("section",{className:"add-edit",children:Object(R.jsxs)("form",{className:"flex",onSubmit:function(e){e.preventDefault();var t={date:r,description:n},c=Object(V.a)({},n);o(d?C(c):N(t)),"success"===s&&b.push("/")},children:[Object(R.jsxs)("div",{className:"content-container flex",children:[Object(R.jsx)("label",{htmlFor:"des",children:d?"edit description":"add description"}),Object(R.jsx)("input",{type:"text",name:"des",id:"des",required:!0,value:null===n||void 0===n?void 0:n.description,onChange:function(e){var t=e.target;a((function(e){return Object(V.a)(Object(V.a)({},e),{},{description:t.value})}))}})]}),Object(R.jsxs)("div",{className:"btn-container flex",children:[Object(R.jsx)("button",{className:"btn",children:d?Object(R.jsx)(Y.a,{}):Object(R.jsx)(U.a,{})}),Object(R.jsx)("button",{className:"btn",onClick:function(e){e.preventDefault(),o(S(d)),"success"===s&&b.push("/")},children:Object(R.jsx)(H.a,{})})]})]})})}},{path:"/",component:function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.event.events})),n=Object(l.c)((function(e){return e.event.status})),a=Object(l.c)((function(e){return e.theme.isDark})),r=function(e){if(e)return null===t||void 0===t?void 0:t.find((function(t){return(null===t||void 0===t?void 0:t.date)===e}))},s=Object(c.useState)(0),o=Object(u.a)(s,2),i=o[0],d=o[1],b=Object(c.useState)([]),f=Object(u.a)(b,2),j=f[0],h=f[1],v=Object(c.useState)(""),p=Object(u.a)(v,2),O=p[0],m=p[1],x=["sunday","monday","tuseday","wednesday","thursday","friday","saturday"];Object(c.useEffect)((function(){e(D()),a?(document.body.classList.remove("light"),document.body.classList.add("dark")):(document.body.classList.remove("dark"),document.body.classList.add("light"))}),[e,a]),Object(c.useEffect)((function(){var e=new Date;0!==i&&e.setMonth((new Date).getMonth()+i);var t=e.getMonth(),n=e.getFullYear(),c=new Date(n,t,1).toLocaleDateString("en-us",{weekday:"long",year:"numeric",month:"numeric",day:"numeric"});m("".concat(e.toLocaleDateString("en-us",{month:"long"})," ").concat(n));var a=function(e,t,n){for(var c=new Date,a=c.getMonth(),r=c.getDate(),s=c.getFullYear(),o=new Date(s,a+1,0).getDate(),i=[],u=1;u<=e+o;u++){var l="".concat(a+1+n,"/").concat(u-e,"/").concat(s);u>e?i.push({value:u-e,isCurrDay:u-e===r&&0===n,date:l,event:t(l)}):i.push({value:"empty",isCurrDay:null,date:"",event:null})}return i}(x.indexOf(c.split(", ")[0].toLocaleLowerCase()),r,i);h(a)}),[t,i]);var g=function(t){e(L(t))};return"failed"===n?Object(R.jsx)("h2",{children:"cant get data, somthing went wrong"}):"loading"===n?Object(R.jsx)(P,{}):Object(R.jsxs)("section",{className:"calendar-app",children:[Object(R.jsx)(T,{date:O,onNext:function(){return d(i+1)},onPrev:function(){return d(i-1)}}),Object(R.jsxs)("div",{className:"calendar grid",children:[x.map((function(e){var t=e[0]+e[1]+e[2];return Object(R.jsx)("h3",{className:"day ".concat(e," ").concat(a?"dark":""),children:t},e)})),null===j||void 0===j?void 0:j.map((function(e,t){return Object(R.jsx)(q,{day:e,onSelect:g,isDark:a},e.value+t)}))]})]})}}],Q=n(131),W=n(136),Z=n(132),$=n(69),ee=n(135),te=n(130),ne=n(134),ce=Object(d.c)({name:"theme",initialState:{isDark:!0},reducers:{changeToLight:function(e){e.isDark=!1},changeToDark:function(e){e.isDark=!0}}}),ae=ce.actions,re=ae.changeToDark,se=ae.changeToLight,oe=ce.reducer,ie=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.theme.isDark})),n=Object(ee.a)(ne.a)((function(e){var t=e.theme;return{width:62,height:34,padding:7,"& .MuiSwitch-switchBase":{margin:1,padding:0,transform:"translateX(6px)","&.Mui-checked":{color:"#fff",transform:"translateX(22px)","& .MuiSwitch-thumb:before":{backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="'.concat(encodeURIComponent("#fff"),'" d="M9.305 1.667V3.75h1.389V1.667h-1.39zm-4.707 1.95l-.982.982L5.09 6.072l.982-.982-1.473-1.473zm10.802 0L13.927 5.09l.982.982 1.473-1.473-.982-.982zM10 5.139a4.872 4.872 0 00-4.862 4.86A4.872 4.872 0 0010 14.862 4.872 4.872 0 0014.86 10 4.872 4.872 0 0010 5.139zm0 1.389A3.462 3.462 0 0113.471 10a3.462 3.462 0 01-3.473 3.472A3.462 3.462 0 016.527 10 3.462 3.462 0 0110 6.528zM1.665 9.305v1.39h2.083v-1.39H1.666zm14.583 0v1.39h2.084v-1.39h-2.084zM5.09 13.928L3.616 15.4l.982.982 1.473-1.473-.982-.982zm9.82 0l-.982.982 1.473 1.473.982-.982-1.473-1.473zM9.305 16.25v2.083h1.389V16.25h-1.39z"/></svg>\')')},"& + .MuiSwitch-track":{opacity:1,backgroundColor:"light"===t.palette.mode?"#8796A5":"#aab4be"}}},"& .MuiSwitch-thumb":{backgroundColor:"light"===t.palette.mode?"#003892":"#001e3c",width:32,height:32,"&:before":{content:"''",position:"absolute",width:"100%",height:"100%",left:0,top:0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="'.concat(encodeURIComponent("#fff"),'" d="M4.2 2.5l-.7 1.8-1.8.7 1.8.7.7 1.8.6-1.8L6.7 5l-1.9-.7-.6-1.8zm15 8.3a6.7 6.7 0 11-6.6-6.6 5.8 5.8 0 006.6 6.6z"/></svg>\')')}},"& .MuiSwitch-track":{opacity:1,backgroundColor:"light"===t.palette.mode?"#8796A5":"#aab4be",borderRadius:10}}}));return Object(R.jsx)("div",{children:Object(R.jsx)(te.a,{control:Object(R.jsx)(n,{sx:{m:1},defaultChecked:t}),onChange:function(){e(se()),t||e(re())}})})},ue=function(){var e=Object(l.c)((function(e){return e.theme.isDark})),t=Object(i.f)(),n=Object(Q.a)((function(t){return{dark:{backgroundColor:"#a513d8",color:"#fbfbfb"},light:{backgroundColor:"#fbfbfb",color:"#191011"},menuButton:{color:e?"#fbfbfb":"#191011",marginRight:t.spacing(2)},title:{color:e?"#fbfbfb":"#191011",flexGrow:1},backgroundColor:{backgroundColor:"inherit"}}}))();return Object(R.jsx)("header",{className:e?n.dark:n.light,children:Object(R.jsx)(W.a,{position:"static",className:n.backgroundColor,children:Object(R.jsxs)(Z.a,{children:[Object(R.jsx)($.a,{variant:"h4",className:n.title,children:Object(R.jsx)("button",{className:"btn",onClick:function(){t.push("/")},children:"MyCalendar"})}),Object(R.jsx)(ie,{})]})})})},le=n(67),de=n.n(le),be=n(66),fe=n.n(be),je=n(133),he=function(){var e=Object(l.c)((function(e){return e.theme.isDark}));return Object(R.jsxs)("footer",{className:"full flex ".concat(e?"dark":""),children:[Object(R.jsx)("h3",{children:"<devDin>"}),Object(R.jsxs)("div",{className:"links flex",children:[Object(R.jsx)(je.a,{href:"https://www.linkedin.com/in/din-ben-elisha-5b476a211/",children:Object(R.jsx)(fe.a,{})}),Object(R.jsx)(je.a,{href:"https://github.com/Dinos46",align:"center",children:Object(R.jsx)(de.a,{})})]})]})},ve=function(){return Object(R.jsx)("div",{className:"",children:Object(R.jsxs)(o.a,{children:[Object(R.jsx)(ue,{}),Object(R.jsx)("main",{className:"full main-container",children:Object(R.jsx)(i.c,{children:K.map((function(e){var t=e.path,n=e.component;return Object(R.jsx)(i.a,{path:t,component:n},t)}))})}),Object(R.jsx)(he,{})]})})},pe=Object(d.a)({reducer:{event:z,theme:oe}});n(104);s.a.render(Object(R.jsx)(a.a.StrictMode,{children:Object(R.jsx)(l.a,{store:pe,children:Object(R.jsx)(ve,{})})}),document.getElementById("root"))}},[[105,1,2]]]);
//# sourceMappingURL=main.1185e2a3.chunk.js.map